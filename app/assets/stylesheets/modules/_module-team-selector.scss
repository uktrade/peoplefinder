$arrow-image-left: image-url('icon_arrow_left.png');
$arrow-image-right: image-url('icon_arrow.png');

$org-browser-column-width: 480px;
$org-browser-height: 480px;
$row-height: 45px;

//Colours
$link-colour: #005ea5;
$link-hover-colour: #2E8ACA;
$grey-2: #BFC1C3;
$grey-3: #DEE0E2;
$grey-4: #F8F8F8;

.editable-container {
  display: none;
  width: 100%;
}

.js-enabled {
  .editable-container {
    display: inline-block;
  }
}

.editable-summary {
  ol {
    height: auto;
    margin-bottom: 0;
    overflow: hidden;
    li {
      display: inline-block;
      float: left;
      &:after {
        // content: '>';
        padding: 0 4px;
      }
      &:last-child:after {
        content: '';
      }
    }
  }
}

.org-browser {
  $browser-width: 100%;
  $line-height: 25px;

  border: 1px solid $darkblue;
  font-size: 19px;
  height: 480px;
  line-height: $line-height;
  margin-top: 15px;
  margin-bottom: 20px;
  overflow: hidden;
  position: relative;
  width: $org-browser-column-width;

  @media (max-width: 980px) {
    width: $browser-width;
  }

  a, a:visited {
    color: $link-colour;
    &:hover {
      color: $link-hover-colour;
    }
  }
  a:focus {
    background-color: transparent;
    outline: none;
  }

  .team {
    height: 100%;
    position: relative;
    width: $org-browser-column-width;

    @media (max-width: 980px) {
      width: $browser-width;
    }

    display: none;
    &.visible, &.root-node {
      display: block;
    }

    .team-back {
      background-color: $grey-2;
      background-image: $arrow-image-left;
      background-repeat: no-repeat;
      background-position: 10px 12px;
      background-size: 12px 20px;
      display: block;
      font-size: 1.1em;
      line-height: 2.3em;
      padding-left: 1.8em;
    }

    ul {
      list-style: none;
      margin: 0;
      overflow-y: scroll;
      height: $org-browser-height - ($row-height * 2) - 5;
    }

    h3, ul li {
      margin: 0;
      height: $row-height;
      border-bottom: 1px solid $border-colour;
    }

    h3 {
      background-color: $grey-3;
      font-size: 0.9em;
      font-weight: normal;
      line-height: 2.2em;

      a {
        white-space: nowrap;
        display: block;
        margin-right: 0.5em;
        overflow: hidden;
        font-weight: bold;
      }
    }

    > ul > li {

      &.expanded {
        background-color: $grey-4;
      }

      p {
        margin: 0;
        padding: 0;
      }

      &.has-subteams > p {
        background-image: $arrow-image-right;
        background-repeat: no-repeat;
        background-position: 97% 12px;
        background-size: 12px 20px;
      }

      .subteam-link {
        display: block;
        overflow: hidden;
        height: 45px;
        padding-left: 2.1em;
        &:focus {
          background-color: #ffbf47;
        }
      }

      .subteam-name, .subteam-count {
        display: block;
      }

      .subteam-name {
        font-size: 0.9em;
        white-space: nowrap;
        overflow: hidden;
        margin-right: 1.6em;
      }

      .subteam-count {
        font-size: 0.8em;
        color: grey;
        line-height: 0.8em;
      }

      .subteam-name {
        line-height: 2.5em;
      }

      &.has-subteams {
        > p .subteam-name {
          line-height: 1.6em;
        }
      }

      > .team {
        margin-left: $org-browser-column-width;
        position: absolute;
        top: 0;

        @media (max-width: 980px) {
          margin-left: $browser-width;
        }
      }
    }

  }

  .root-node > .team-back {
    display: none;
  }

}

form .org-browser {

  .team h3 {

    input {
      float: left;
      margin: 0.65em 0.7em 0 0.78em;
      padding: 0;
    }

  }

  .team > ul > li.leaf-node {
      background: none;
      padding: 0 3em 0 1.4em;
      position: relative;

      > p > input {
        float: left;
        margin: 0.8em 0.7em 0 0.7em;
      }

      > p > a {
        padding-left: 0;

        > .subteam-name {
          line-height: 45px;
        }
      }

  }

  .has-subteams > p > input {
    display: none;
  }

  .team {
    h3.disabled > a, li.disabled.leaf-node > p > a {
      cursor: default;
    }

    h3.disabled, li.disabled.leaf-node {
      > a, > p > a {
        color: #a2a2a2; // nicked from gov.uk colour palette
        text-decoration: none;
        padding-left: 2.2em;
      }
    }

    li.disabled .leaf-node {
      input {
        display: none;
      }
      a {
        padding-left: 2em;
      }
    }

    li.disabled .subteam-link {
      color: grey;
      cursor: text;
      &:hover {
        text-decoration: none;
      }
    }

  }

}

.lte-ie8 {
  li.has-subteams > p {
    background-position: 295px 12px!important;
  }
}

.add-team {
  padding: 0 1.8em;
  a {
    display: block;
    font-size: 16px;
    line-height: 45px;
    padding-left: 2em;
  }
}
.new-team {
  display: none;
  .button {
    // color: #ffffff;
  }
}

.editable-summary {
  clear: both;
  .title {
    @include core-16;
    background-color: $white;
    padding: 8px 15px 8px 8px;
    margin-right: 0;
    margin-bottom: 0px;
    width: 50%;
    padding: 0;
    strong {
      padding-right: 0px;
    }
    @media (max-width: 980px) {
      margin-right: 0;
      width: 100%;
    }
  }
  .cta {
    padding: 8px;
  }
  .breadcrumbs li:last-child {
    @extend .bold-term;
  }
}
